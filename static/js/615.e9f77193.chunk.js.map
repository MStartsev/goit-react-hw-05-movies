{"version":3,"file":"static/js/615.e9f77193.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","servises/formatDate.js","servises/tmdb-api.js","webpack://goit-react-hw-05-movies/./src/views/Movies/Movies.module.css?58de","views/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"title\":\"MoviesList_title__PB2c8\",\"item-title\":\"MoviesList_item-title__Ye4aM\",\"info\":\"MoviesList_info__5zfGK\",\"poster\":\"MoviesList_poster__aewlD\",\"default-poster\":\"MoviesList_default-poster__hRMd+\",\"backdrop\":\"MoviesList_backdrop__u1Q8G\"};","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { formatDate } from '../../servises/formatDate';\nimport css from './MoviesList.module.css';\nimport defaultPoster from '../../images/defaultImageFilm.jpg';\n\nconst IMAGES_BASE_URL = 'https://image.tmdb.org/t/p/w300';\n\nexport default function MoviesList({ movies, location, title, query }) {\n  const [info, setInfo] = useState(false);\n\n  const handleMovieHover = async movieId => {\n    setInfo(movieId);\n  };\n\n  const handleMovieLeave = () => {\n    setInfo(false);\n  };\n\n  return (\n    <>\n      {!!movies.length ? (\n        <>\n          <h1 className={css.title}>{title}</h1>\n\n          <ul className={css.list}>\n            {movies.map(movie => (\n              <li\n                className={css.item}\n                key={movie.id}\n                title=\"Click to read movie details\"\n              >\n                <Link\n                  className={css.item}\n                  to={`/movies/${movie.id}`}\n                  state={{ from: location }}\n                  onMouseEnter={() => handleMovieHover(movie.id)}\n                  onMouseLeave={handleMovieLeave}\n                >\n                  {info && info === movie.id ? (\n                    <div className={css.item}>\n                      <img\n                        className={css.backdrop}\n                        src={\n                          !!movie.backdrop_path\n                            ? `${IMAGES_BASE_URL}${movie.backdrop_path}`\n                            : defaultPoster\n                        }\n                        alt={movie.title}\n                      />\n\n                      <h2 className={css['item-title']}>{movie.title}</h2>\n                      <p className={css.info}>Click to read movie details</p>\n                    </div>\n                  ) : (\n                    <>\n                      {!!movie.poster_path ? (\n                        <img\n                          className={css.poster}\n                          src={`${IMAGES_BASE_URL}${movie.poster_path}`}\n                          alt={movie.title}\n                        />\n                      ) : (\n                        <img\n                          className={css['default-poster']}\n                          src={defaultPoster}\n                          alt={movie.title}\n                        />\n                      )}\n\n                      {!movie.poster_path && (\n                        <>\n                          <h2 className={css['item-title']}>{movie.title}</h2>\n                          <p className={css.info}>\n                            {!!movie.release_date\n                              ? formatDate(movie.release_date)\n                              : '(no release date)'}\n                          </p>\n                        </>\n                      )}\n                    </>\n                  )}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </>\n      ) : (\n        !!query && <h1 className={css.title}>{title}</h1>\n      )}\n    </>\n  );\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n    })\n  ).isRequired,\n  location: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import { format } from 'date-fns';\n\nexport const formatDate = date => {\n  return format(new Date(date), ' (yyyy)');\n};\n","import axios from 'axios';\n\nconst API_KEY = '1f2e1346f84e3b2d486a79ce9b661dcb';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst getApiData = async (url, data) => {\n  try {\n    const response = await axios.get(url, data);\n\n    if (!response.data) throw new Error(response.statusText);\n    return response.data;\n  } catch (error) {\n    console.log(`Error making GET request to ${url}: ${error.message}`);\n  }\n};\n\nexport const getTrending = async () => await getApiData('/trending/movie/day');\n\nexport const getDetails = async movie_id =>\n  await getApiData(`/movie/${movie_id}`);\n\nexport const getCredits = async movie_id =>\n  await getApiData(`/movie/${movie_id}/credits`);\n\nexport const getReviews = async movie_id =>\n  await getApiData(`/movie/${movie_id}/reviews`);\n\nexport const getSearchByQuery = async query =>\n  await getApiData(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__0xtbZ\",\"input\":\"Movies_input__sVctr\",\"button\":\"Movies_button__GyKrc\"};","import { useSearchParams, useLocation } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\n\nimport { getSearchByQuery } from '../../servises/tmdb-api';\nimport MoviesList from '../../components/MoviesList/MoviesList';\n\nimport css from './Movies.module.css';\n\nexport default function Movies() {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [query, setQuery] = useState(searchParams.get('query') ?? '');\n\n  useEffect(() => {\n    loadMovies(query);\n  }, [query]);\n\n  const onSubmit = ({ query }) => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n    loadMovies(query);\n  };\n\n  const loadMovies = query => {\n    if (!query.length) return;\n    setLoading(true);\n\n    getSearchByQuery(query).then(({ results }) => {\n      setMovies(results);\n      setLoading(false);\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit({ query });\n  };\n\n  const handleChange = event => {\n    setSearchParams({ query: event.target.value });\n    setQuery(event.target.value);\n  };\n\n  return (\n    <div>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          name=\"query\"\n          value={query}\n          onChange={handleChange}\n        />\n        <button className={css.button} type=\"submit\">\n          Submit\n        </button>\n      </form>\n      {isLoading ? (\n        <div>Loading the movie...</div>\n      ) : (\n        <MoviesList\n          movies={movies}\n          location={location}\n          query={query}\n          title={\n            query\n              ? movies.length\n                ? `Search results for \"${query}\"`\n                : `No search results for \"${query}\"`\n              : `Enter your query`\n          }\n        />\n      )}\n    </div>\n  );\n}\n"],"names":["IMAGES_BASE_URL","MoviesList","movies","location","title","query","useState","info","setInfo","handleMovieHover","movieId","handleMovieLeave","length","className","css","map","movie","to","id","state","from","onMouseEnter","onMouseLeave","src","backdrop_path","defaultPoster","alt","poster_path","release_date","formatDate","date","format","Date","axios","api_key","getApiData","url","data","response","Error","statusText","console","log","message","getTrending","getDetails","movie_id","getCredits","getReviews","getSearchByQuery","params","Movies","useLocation","useSearchParams","searchParams","setSearchParams","setMovies","isLoading","setLoading","get","setQuery","useEffect","loadMovies","then","results","onSubmit","event","preventDefault","type","name","value","onChange","target"],"sourceRoot":""}